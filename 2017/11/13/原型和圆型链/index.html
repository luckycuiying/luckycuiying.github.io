<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.8.0"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>原型和原型链 | cuiying.li</title><link rel="stylesheet" type="text/css" href="//fonts.loli.net/css?family=Source+Code+Pro"><link rel="stylesheet" type="text/css" href="/css/style.css?v=2.0.3"><link rel="stylesheet" type="text/css" href="/css/highlight.css?v=2.0.3"><link rel="Shortcut Icon" href="/favicon.ico"><link rel="bookmark" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">原型和原型链</h1><a id="logo" href="/.">cuiying.li</a><p class="description"></p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div><div id="search-form"><div id="result-mask" class="hide"></div><label><input id="search-key" type="text" autocomplete="off" placeholder="搜索"></label><div id="result-wrap" class="hide"><div id="search-result"></div></div><div class="hide"><template id="search-tpl"><div class="item"><a href="/{path}" title="{title}"><div class="title">{title}</div><div class="time">{date}</div><div class="tags">{tags}</div></a></div></template></div></div></div><div id="layout" class="layout-g"><div class="layout-l"><div class="content_container"><div class="post"><h1 class="post-title">原型和原型链</h1><div class="post-meta"><a href="/2017/11/13/原型和圆型链/#comments" class="comment-count"></a><p><span class="date">Nov 13, 2017</span><span><i id="busuanzi_container_page_pv"><i id="busuanzi_value_page_pv"></i><i>点击</i></i></span></p></div><div class="post-content"><h3 id="概念："><a href="#概念：" class="headerlink" title="概念："></a>概念：</h3><p>1， 每一个对象（实例也是对象）都有一个天生自带的属性：下划线下划线proto下划线下划线,这个属性指向当前所属的原型<br>2， 每一个函数(类也是一个函数)都有一个天生自带的属性：prototype(原型)，并且这个属性存储的值是一个对象数据类型的数据，<br>    浏览器默认会给这个属性开辟一个堆内存，在这个内存中存储了相关的属性和方法。<br>    1&gt; 其中constructor 就是天生自带的一个属性，constructor等于当前函数本身。<br>    2&gt; 下划线下划线proto下划线下划线: prototype对应的值也是一个对象数据类型的值，所以也天生自带<em>proto</em>这个属性。<br>    3&gt; 我们自己写的方法和属性：这部分属于当前类的公有属性和方法</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Fn</span>(<span class="params">num</span>)</span>&#123;</span><br><span class="line"> <span class="keyword">this</span>.a=num;</span><br><span class="line"> <span class="keyword">this</span>.b = <span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</span><br><span class="line">     <span class="built_in">console</span>.log(<span class="keyword">this</span>.a)</span><br><span class="line">     &#125;</span><br><span class="line">&#125;</span><br><span class="line">Fn.prototype.c =<span class="number">567</span>;</span><br><span class="line"><span class="keyword">var</span> fn1 = <span class="keyword">new</span> Fn(); </span><br><span class="line"><span class="keyword">var</span> fn2 = <span class="keyword">new</span> Fn();</span><br><span class="line"><span class="built_in">console</span>.log(fn1.a) <span class="comment">//123</span></span><br><span class="line"><span class="built_in">console</span>.log(fn2.a) <span class="comment">//123</span></span><br></pre></td></tr></table></figure>
<h4 id="添加公有方法-有两种方式"><a href="#添加公有方法-有两种方式" class="headerlink" title="添加公有方法 有两种方式"></a>添加公有方法 有两种方式</h4><p>1，给实例的fn1 和fn2 的 <em>proto</em>原型链上添加方法<br>2， 直接在Fn 上直接添加方法。</p>
<h3 id="查找机制：-首先找当前实例的私有属性，如果私有属性中存在，找的就是私有属性有的方法，如果私有属性中没有，默认根据proto查找所属类prototype上的公有属性，"><a href="#查找机制：-首先找当前实例的私有属性，如果私有属性中存在，找的就是私有属性有的方法，如果私有属性中没有，默认根据proto查找所属类prototype上的公有属性，" class="headerlink" title="查找机制： 首先找当前实例的私有属性，如果私有属性中存在，找的就是私有属性有的方法，如果私有属性中没有，默认根据proto查找所属类prototype上的公有属性，"></a>查找机制： 首先找当前实例的私有属性，如果私有属性中存在，找的就是私有属性有的方法，如果私有属性中没有，默认根据<em>proto</em>查找所属类prototype上的公有属性，</h3><p>公有属性里面有的话就是公有属性的，如果公有属性也没有，就根据<em>proto</em>在往上一级查找…直到找到Object这个基类的prototype为止，如果基类上也没有，则代表当前实例没有这个属性，返回的是undefined。<br><img src="/assets/blogimg/prototype.png" alt="图片的位置">;</p>
<h3 id="批量添加原型公有方法和属性"><a href="#批量添加原型公有方法和属性" class="headerlink" title="批量添加原型公有方法和属性"></a>批量添加原型公有方法和属性</h3><p>1&gt; 设置别名的方法<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Fn</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.x = <span class="number">100</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//原始的方法</span></span><br><span class="line">Fn.prototype.getX = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.x)</span><br><span class="line">&#125;;</span><br><span class="line">Fn.prototype.getY = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.x)</span><br><span class="line">&#125;;</span><br><span class="line">Fn.prototype.getZ = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.x)</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//起别名 的方式</span></span><br><span class="line"><span class="keyword">var</span> pro = Fn.prototype; <span class="comment">// 把原来原型指向的地址赋值给我们的pro对象变量，现在它们操作的是同一个内存别名空间</span></span><br><span class="line">pro.getX = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.x)</span><br><span class="line">&#125;;</span><br><span class="line">pro.getY = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.x)</span><br><span class="line">&#125;;</span><br><span class="line">pro.getZ = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.x)</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> f1 = <span class="keyword">new</span> Fn;</span><br></pre></td></tr></table></figure></p>
<p>2&gt; 重构原型对象的方式: 自己新开辟一个堆内存，储存我们公有的属性和方法，把浏览器原来的给pro开辟的那个替换调。<br><code>`</code> javascript<br>function Fn(){<br>    this.x = 100;<br>}<br>Fn .prototyoe ={<br>    constructor:Fn,<br>    a:function(){</p>
<pre><code>},
b:function(){

}
</code></pre><p>}<br>var fn = new Fn;<br> console.log(f.constructor) 指向object 基类。<br>//  1, 只有浏览器天生给Fn.prototype 开辟的堆内存里面才有constructor，而我们自己开辟的这个内存没有这个属性，这样construction指向不再是Fn而是object。<br>我们没有做任何处理的时候，为了和原来的保持一致，我们需要手动的增加constructor 的指向Fn.</p>
<p>//2,用这种方式给内置类增加公有的属性<br>//例如给内置类Array 增加数组去重的方法<br>//原始的方法  这种方式可以一个一个的修改内置的方法，当我们通过下述方式在数组的原型上增加方法，如果方法名和原来的内置方法名重复了，就会把原来数组内置的方法修改掉。因此我们以后再内置类上的原型上修改，增加方法，命名都需要加特殊的前缀。<br>Array.prototype.unique = function(){<br>    console.log(“this”)<br>}<br>var ary = [1,2,4,5,6,5,4,3,2,1]<br>Array.prototype.sort = function(){<br>    console.log(“ok”)<br>}<br>ary.sort();<br>console.log(ary);<br>//第二种方法<br>Array.prototype = {<br>    constructor:Array,<br>    unique: function(){</p>
<pre><code>}
</code></pre><p>}<br>//我们这种方法会把之前已经存在于原型上的属性和方法给替换调，所以我们这种方式修改内置类的，浏览器会屏蔽掉的。</p>
</div><div class="post-copyright"><blockquote><p>原文作者: 李翠英</p><p>原文链接: <a href="http://yoursite.com/2017/11/13/原型和圆型链/">http://yoursite.com/2017/11/13/原型和圆型链/</a></p><p>版权声明: 转载请注明出处(必须保留作者署名及链接)</p></blockquote></div><div class="tags"></div><div class="post-share"><div class="social-share"><span>分享到:</span></div></div><div class="post-nav"><a href="/2017/11/15/ES6事件绑定/" class="pre">ES6事件绑定</a><a href="/2017/11/10/循环语句/" class="next">循环语句 </a></div><div id="comments"></div></div></div></div><div class="layout-r"><div id="sidebar"><div class="search-pla"></div><div id="toc" class="widget"><div class="widget-title"><i class="fa fa-fei">文章目录</i></div><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#概念："><span class="toc-text">概念：</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#添加公有方法-有两种方式"><span class="toc-text">添加公有方法 有两种方式</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#查找机制：-首先找当前实例的私有属性，如果私有属性中存在，找的就是私有属性有的方法，如果私有属性中没有，默认根据proto查找所属类prototype上的公有属性，"><span class="toc-text">查找机制： 首先找当前实例的私有属性，如果私有属性中存在，找的就是私有属性有的方法，如果私有属性中没有，默认根据proto查找所属类prototype上的公有属性，</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#批量添加原型公有方法和属性"><span class="toc-text">批量添加原型公有方法和属性</span></a></li></ol></div><div class="widget"><div class="widget-title"><i class="fa fa-xie"> 最新文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2019/11/18/pos和get-请求的区别/">postVsget</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/11/17/webpack/">Hash vs chunkhash vs ContentHash</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/11/14/mobx/">mobx</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/11/11/React-自定义Hook/">React-自定义Hook</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/11/11/React-hooks-二/">React-hooks(Effect-Hook)</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/11/11/React-hooks/">React-hooks(-)</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/11/08/React-purComponent/">React-purComponent</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/11/06/webpack-base2/">webpack-base2</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/11/04/webpack-base3/">webpack-base3</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/11/04/webpack-base.1/">webpack-base</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-gui"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Redux/">Redux</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/webpack/">webpack</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/前端/">前端</a><span class="category-list-count">1</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-biao"> 标签</i></div><div class="tagcloud"><a href="/tags/css-基础/" style="font-size: 15px;">css 基础</a> <a href="/tags/js基础/" style="font-size: 15px;">js基础</a> <a href="/tags/js/" style="font-size: 15px;">js</a> <a href="/tags/javascript/" style="font-size: 15px;">javascript</a> <a href="/tags/JavaScript/" style="font-size: 15px;">JavaScript</a> <a href="/tags/React/" style="font-size: 15px;">React</a> <a href="/tags/Redux/" style="font-size: 15px;">Redux</a> <a href="/tags/jq基础/" style="font-size: 15px;">jq基础</a> <a href="/tags/css基础/" style="font-size: 15px;">css基础</a> <a href="/tags/工具使用技巧/" style="font-size: 15px;">工具使用技巧</a> <a href="/tags/css/" style="font-size: 15px;">css</a> <a href="/tags/计算机基础知识/" style="font-size: 15px;">计算机基础知识</a> <a href="/tags/js-基础/" style="font-size: 15px;">js 基础</a> <a href="/tags/工具/" style="font-size: 15px;">工具</a> <a href="/tags/javaScript/" style="font-size: 15px;">javaScript</a> <a href="/tags/react/" style="font-size: 15px;">react</a> <a href="/tags/面试题/" style="font-size: 15px;">面试题</a> <a href="/tags/优化技巧/" style="font-size: 15px;">优化技巧</a> <a href="/tags/前端开发/" style="font-size: 15px;">前端开发</a> <a href="/tags/js-继基础/" style="font-size: 15px;">js 继基础</a> <a href="/tags/面试题（-）/" style="font-size: 15px;">面试题（-）</a> <a href="/tags/面试总结/" style="font-size: 15px;">面试总结</a> <a href="/tags/cache/" style="font-size: 15px;">cache</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-archive"> 归档</i></div><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">十一月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">十月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">九月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">七月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">九月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">八月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">三月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">一月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">十二月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">十一月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">十月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">九月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">八月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">七月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">六月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">五月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">四月 2017</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-you"> 友情链接</i></div><ul></ul><a href="http://www.example1.com/" title="site-name1" target="_blank">site-name1</a><ul></ul><a href="http://www.example2.com/" title="site-name2" target="_blank">site-name2</a><ul></ul><a href="http://www.example3.com/" title="site-name3" target="_blank">site-name3</a></div></div></div></div><a id="totop" href="#top"></a><div id="footer"><div class="footer-info"><p><a href="/baidusitemap.xml">网站地图</a> |  <a href="/atom.xml">订阅本站</a> |  <a href="/about/">联系博主</a></p><p>本站总访问量：<i id="busuanzi_container_site_pv"><i id="busuanzi_value_site_pv"></i></i>次，本站总访客数:<i id="busuanzi_container_site_uv"><i id="busuanzi_value_site_uv"></i></i>人</p><p><span> Copyright &copy;<a href="/." rel="nofollow">李翠英.</a></span><span> Theme by<a rel="nofollow" target="_blank" href="https://github.com/chaooo/hexo-theme-BlueLake"> BlueLake.</a></span><span> Count by<a href="http://busuanzi.ibruce.info/"> busuanzi.</a></span><span> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a></span></p></div></div></div><script src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script><script type="text/javascript" src="/js/search.json.js?v=2.0.3"></script><script type="text/javascript" src="/js/toctotop.js?v=2.0.3" async></script><link rel="stylesheet" type="text/css" href="/share/css/share.css"><script type="text/javascript" src="/share/js/social-share.js" charset="utf-8"></script><script type="text/javascript" src="/share/js/qrcode.js" charset="utf-8"></script></body></html>